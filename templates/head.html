<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="{{ url_for('static', path='bootstrap.min.css') }}" rel="stylesheet">
    <script src="{{ url_for('static', path='js/bootstrap.bundle.min.js') }}"></script>
    <link href="{{ url_for('static', path='style.css') }}" rel="stylesheet">
    <script src="https://kit.fontawesome.com/ed38ca7e1a.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180"
        href="{{ url_for('static', path='img/favicons/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32"
        href="{{ url_for('static', path='img/favicons/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16"
        href="{{ url_for('static', path='img/favicons/favicon-16x16.png') }}">
    {% if active_page == "nodes" %}
    <script src="{{ url_for('static', path='js/index.js') }}"></script>
    <script src="{{ url_for('static', path='js/map.js') }}"></script>
    <script src="{{ url_for('static', path='js/Animated.js') }}"></script>
    <script src="{{ url_for('static', path='js/worldLow.js') }}"></script>
    {% endif %}
    <title>Cellframestats</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dateStakedElements = document.querySelectorAll('.date-format');
            dateStakedElements.forEach(function(element) {
                const isoDate = element.textContent;
                const date = new Date(isoDate);
                element.textContent = date.toLocaleString();
            });
        });
    </script>
    {% if active_page == "home" %}
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            startCount();
        });

        function startCount() {
            var counters = document.querySelectorAll('.counter');

            counters.forEach(function (counter) {
                var realValue = parseInt(counter.getAttribute('data-real-value'));
                var currentValue = parseInt(counter.innerHTML);
                var duration = 2000;
                var steps = 100;

                var increment = (realValue - currentValue) / steps;
                var stepDuration = duration / steps;

                var step = 0;

                var interval = setInterval(function () {
                    currentValue += increment;
                    counter.innerHTML = Math.floor(currentValue).toLocaleString();
                    step++;
                    if (step >= steps) {
                        clearInterval(interval);
                        counter.innerHTML = realValue.toLocaleString();
                    }
                }, stepDuration);
            });
        }
    </script>
    {% endif %}
</head>